/**
 * Module dependencies.
 */
var initialize = require('../middleware/initialize')
  , authenticate = require('../middleware/authenticate');
  
/**
 * Framework support for Connect/Express.
 *
 * This module provides support for using Passport with Express.  It exposes
<<<<<<< HEAD
 * middleware that conform to the `fn(req, res, next)` signature and extends
 * Node's built-in HTTP request object with useful authentication-related
 * functions.
=======
 * middleware that conform to the `fn(req, res, next)` signature.
>>>>>>> cbdfb2a3a4709c62ce1fe06a4d3f354327fae4d7
 *
 * @return {Object}
 * @api protected
 */
exports = module.exports = function() {
  
<<<<<<< HEAD
  // HTTP extensions.
  exports.__monkeypatchNode();
  
=======
>>>>>>> cbdfb2a3a4709c62ce1fe06a4d3f354327fae4d7
  return {
    initialize: initialize,
    authenticate: authenticate
  };
};
<<<<<<< HEAD

exports.__monkeypatchNode = function() {
  var http = require('http');
  var IncomingMessageExt = require('../http/request');
  
  http.IncomingMessage.prototype.login =
  http.IncomingMessage.prototype.logIn = IncomingMessageExt.logIn;
  http.IncomingMessage.prototype.logout =
  http.IncomingMessage.prototype.logOut = IncomingMessageExt.logOut;
  http.IncomingMessage.prototype.isAuthenticated = IncomingMessageExt.isAuthenticated;
  http.IncomingMessage.prototype.isUnauthenticated = IncomingMessageExt.isUnauthenticated;
};
=======
>>>>>>> cbdfb2a3a4709c62ce1fe06a4d3f354327fae4d7
